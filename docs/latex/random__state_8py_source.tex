\doxysection{random\+\_\+state.\+py}
\hypertarget{random__state_8py_source}{}\label{random__state_8py_source}\index{toolkit/generator/configurations/random\_state.py@{toolkit/generator/configurations/random\_state.py}}
\mbox{\hyperlink{random__state_8py}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{random__state_8py_source_l00001}\mbox{\hyperlink{namespacetoolkit_1_1generator_1_1configurations_1_1random__state}{00001}}\ }
\DoxyCodeLine{\Hypertarget{random__state_8py_source_l00002}00002\ \textcolor{keyword}{import}\ numpy\ \textcolor{keyword}{as}\ np}
\DoxyCodeLine{\Hypertarget{random__state_8py_source_l00003}00003\ \textcolor{keyword}{from}\ scipy.stats\ \textcolor{keyword}{import}\ truncnorm,\ uniform}
\DoxyCodeLine{\Hypertarget{random__state_8py_source_l00004}00004\ \textcolor{keyword}{from}\ numpy.random\ \textcolor{keyword}{import}\ Generator}
\DoxyCodeLine{\Hypertarget{random__state_8py_source_l00005}00005\ \textcolor{keyword}{from}\ typing\ \textcolor{keyword}{import}\ TypeVar}
\DoxyCodeLine{\Hypertarget{random__state_8py_source_l00006}00006\ }
\DoxyCodeLine{\Hypertarget{random__state_8py_source_l00007}\mbox{\hyperlink{namespacetoolkit_1_1generator_1_1configurations_1_1random__state_a2ea472e91010aea9b0eb3e9b447f2b7e}{00007}}\ epsilon\ =\ 0.00001}
\DoxyCodeLine{\Hypertarget{random__state_8py_source_l00008}00008\ }
\DoxyCodeLine{\Hypertarget{random__state_8py_source_l00009}\mbox{\hyperlink{classtoolkit_1_1generator_1_1configurations_1_1random__state_1_1_random_state}{00009}}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classtoolkit_1_1generator_1_1configurations_1_1random__state_1_1_random_state}{RandomState}}:}
\DoxyCodeLine{\Hypertarget{random__state_8py_source_l00010}00010\ }
\DoxyCodeLine{\Hypertarget{random__state_8py_source_l00011}\mbox{\hyperlink{classtoolkit_1_1generator_1_1configurations_1_1random__state_1_1_random_state_a1d0700adebdc389fec6d2a8665428d02}{00011}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classtoolkit_1_1generator_1_1configurations_1_1random__state_1_1_random_state_a1d0700adebdc389fec6d2a8665428d02}{\_\_init\_\_}}(self,\ seed)\ -\/>\ None:}
\DoxyCodeLine{\Hypertarget{random__state_8py_source_l00012}\mbox{\hyperlink{classtoolkit_1_1generator_1_1configurations_1_1random__state_1_1_random_state_a2940dc0b6b36b8ff26489c22c4ab5bc3}{00012}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classtoolkit_1_1generator_1_1configurations_1_1random__state_1_1_random_state_a2940dc0b6b36b8ff26489c22c4ab5bc3}{rng}}:\ Generator\ =\ np.random.default\_rng(seed)}
\DoxyCodeLine{\Hypertarget{random__state_8py_source_l00013}00013\ }
\DoxyCodeLine{\Hypertarget{random__state_8py_source_l00014}\mbox{\hyperlink{classtoolkit_1_1generator_1_1configurations_1_1random__state_1_1_random_state_ab0a3107854dc3efc4243e29b92fb2cad}{00014}}\ \ \ \ \ T\ =\ TypeVar(\textcolor{stringliteral}{'T'})}
\DoxyCodeLine{\Hypertarget{random__state_8py_source_l00015}00015\ }
\DoxyCodeLine{\Hypertarget{random__state_8py_source_l00016}\mbox{\hyperlink{classtoolkit_1_1generator_1_1configurations_1_1random__state_1_1_random_state_ac06da305db6b32b849d7fc32c96f09dc}{00016}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classtoolkit_1_1generator_1_1configurations_1_1random__state_1_1_random_state_ac06da305db6b32b849d7fc32c96f09dc}{get\_random\_element\_uniform}}(self,\ list:\ list[T])-\/>\ T:}
\DoxyCodeLine{\Hypertarget{random__state_8py_source_l00017}00017\ \ \ \ \ \ \ \ \ assert(len(list)\ >\ 0)}
\DoxyCodeLine{\Hypertarget{random__state_8py_source_l00018}00018\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ list[self.\mbox{\hyperlink{classtoolkit_1_1generator_1_1configurations_1_1random__state_1_1_random_state_a2ac51c0924234a6767d7475bb4b7d9dd}{get\_discrete\_truncated\_uniform\_sample}}(0,len(list)-\/1)]}
\DoxyCodeLine{\Hypertarget{random__state_8py_source_l00019}00019\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{random__state_8py_source_l00020}\mbox{\hyperlink{classtoolkit_1_1generator_1_1configurations_1_1random__state_1_1_random_state_ae7174453977928ce48029fca0b760ea3}{00020}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classtoolkit_1_1generator_1_1configurations_1_1random__state_1_1_random_state_ae7174453977928ce48029fca0b760ea3}{get\_random\_element\_prop}}(self,\ list:\ list[T],\ probs:\ list[float])-\/>\ T:}
\DoxyCodeLine{\Hypertarget{random__state_8py_source_l00021}00021\ }
\DoxyCodeLine{\Hypertarget{random__state_8py_source_l00022}00022\ \ \ \ \ \ \ \ \ assert(len(list)\ >\ 0)}
\DoxyCodeLine{\Hypertarget{random__state_8py_source_l00023}00023\ \ \ \ \ \ \ \ \ assert(len(list)\ ==\ len(probs))}
\DoxyCodeLine{\Hypertarget{random__state_8py_source_l00024}00024\ \ \ \ \ \ \ \ \ sum\_props\ =\ sum(probs)}
\DoxyCodeLine{\Hypertarget{random__state_8py_source_l00025}00025\ \ \ \ \ \ \ \ \ \textcolor{keyword}{assert}\ 1\ -\/\ epsilon\ <=\ sum\_props\ <=\ 1\ +\ epsilon,\ f\textcolor{stringliteral}{'Sum\ of\ probabilities\ must\ be\ 1\ +-\/\{epsilon\}\ but\ is\ \{sum(probs)\}'}}
\DoxyCodeLine{\Hypertarget{random__state_8py_source_l00026}00026\ }
\DoxyCodeLine{\Hypertarget{random__state_8py_source_l00027}00027\ \ \ \ \ \ \ \ \ sample\ =\ uniform.rvs()\ }
\DoxyCodeLine{\Hypertarget{random__state_8py_source_l00028}00028\ \ \ \ \ \ \ \ \ index\ =\ 0}
\DoxyCodeLine{\Hypertarget{random__state_8py_source_l00029}00029\ \ \ \ \ \ \ \ \ ref\ =\ 0}
\DoxyCodeLine{\Hypertarget{random__state_8py_source_l00030}00030\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ next\_prob\ \textcolor{keywordflow}{in}\ probs:}
\DoxyCodeLine{\Hypertarget{random__state_8py_source_l00031}00031\ \ \ \ \ \ \ \ \ \ \ \ \ ref\ +=\ next\_prob}
\DoxyCodeLine{\Hypertarget{random__state_8py_source_l00032}00032\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ sample\ <=\ ref:}
\DoxyCodeLine{\Hypertarget{random__state_8py_source_l00033}00033\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ list[index]}
\DoxyCodeLine{\Hypertarget{random__state_8py_source_l00034}00034\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{random__state_8py_source_l00035}00035\ \ \ \ \ \ \ \ \ \ \ \ \ index\ +=1}
\DoxyCodeLine{\Hypertarget{random__state_8py_source_l00036}00036\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{random__state_8py_source_l00037}00037\ \ \ \ \ \ \ \ \ assert(\textcolor{keyword}{False})}
\DoxyCodeLine{\Hypertarget{random__state_8py_source_l00038}00038\ }
\DoxyCodeLine{\Hypertarget{random__state_8py_source_l00039}\mbox{\hyperlink{classtoolkit_1_1generator_1_1configurations_1_1random__state_1_1_random_state_a2ac51c0924234a6767d7475bb4b7d9dd}{00039}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classtoolkit_1_1generator_1_1configurations_1_1random__state_1_1_random_state_a2ac51c0924234a6767d7475bb4b7d9dd}{get\_discrete\_truncated\_uniform\_sample}}(self,\ lower:\ int,\ upper:\ int)\ -\/>\ int:}
\DoxyCodeLine{\Hypertarget{random__state_8py_source_l00040}00040\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ int(round(uniform.rvs(lower,\ upper-\/lower,\ random\_state=self.\mbox{\hyperlink{classtoolkit_1_1generator_1_1configurations_1_1random__state_1_1_random_state_a2940dc0b6b36b8ff26489c22c4ab5bc3}{rng}})))}
\DoxyCodeLine{\Hypertarget{random__state_8py_source_l00041}00041\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{random__state_8py_source_l00042}\mbox{\hyperlink{classtoolkit_1_1generator_1_1configurations_1_1random__state_1_1_random_state_aec175664666df908c8880fbe3711060c}{00042}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classtoolkit_1_1generator_1_1configurations_1_1random__state_1_1_random_state_aec175664666df908c8880fbe3711060c}{get\_discrete\_truncated\_normal\_sample}}(self,\ center:\ int,\ sigma:\ int,\ lower:\ int,\ upper:\ int)\ -\/>\ int:}
\DoxyCodeLine{\Hypertarget{random__state_8py_source_l00043}00043\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ lower\ ==\ upper:}
\DoxyCodeLine{\Hypertarget{random__state_8py_source_l00044}00044\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ lower}
\DoxyCodeLine{\Hypertarget{random__state_8py_source_l00045}00045\ \ \ \ \ \ \ \ \ low\ =\ (lower\ -\/\ center)\ /\ sigma}
\DoxyCodeLine{\Hypertarget{random__state_8py_source_l00046}00046\ \ \ \ \ \ \ \ \ up\ =\ (upper\ -\/\ center)\ /\ sigma}
\DoxyCodeLine{\Hypertarget{random__state_8py_source_l00047}00047\ \ \ \ \ \ \ \ \ r\ =\ truncnorm.rvs(low,\ up,\ loc=center,\ scale=sigma,\ random\_state=self.\mbox{\hyperlink{classtoolkit_1_1generator_1_1configurations_1_1random__state_1_1_random_state_a2940dc0b6b36b8ff26489c22c4ab5bc3}{rng}})}
\DoxyCodeLine{\Hypertarget{random__state_8py_source_l00048}00048\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ int(round(r))}
\DoxyCodeLine{\Hypertarget{random__state_8py_source_l00049}00049\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{random__state_8py_source_l00050}\mbox{\hyperlink{classtoolkit_1_1generator_1_1configurations_1_1random__state_1_1_random_state_a4c55dac10917751e875cda8cc9bf0a85}{00050}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classtoolkit_1_1generator_1_1configurations_1_1random__state_1_1_random_state_a4c55dac10917751e875cda8cc9bf0a85}{get\_uniform\_advantage\_sample}}(self,\ advantage:\ list[int])\ -\/>\ int:}
\DoxyCodeLine{\Hypertarget{random__state_8py_source_l00051}00051\ \ \ \ \ \ \ \ \ distribution\ \ =\ []}
\DoxyCodeLine{\Hypertarget{random__state_8py_source_l00052}00052\ }
\DoxyCodeLine{\Hypertarget{random__state_8py_source_l00053}00053\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ sum(advantage)\ >\ 0:}
\DoxyCodeLine{\Hypertarget{random__state_8py_source_l00054}00054\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ i,\ a\ \textcolor{keywordflow}{in}\ enumerate(advantage):}
\DoxyCodeLine{\Hypertarget{random__state_8py_source_l00055}00055\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ distribution\ +=\ [i\ \textcolor{keywordflow}{for}\ \_\ \textcolor{keywordflow}{in}\ range(a)]}
\DoxyCodeLine{\Hypertarget{random__state_8py_source_l00056}00056\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{random__state_8py_source_l00057}00057\ \ \ \ \ \ \ \ \ \ \ \ \ distribution\ +=\ [i\ \textcolor{keywordflow}{for}\ i\ \textcolor{keywordflow}{in}\ range(len(advantage))]}
\DoxyCodeLine{\Hypertarget{random__state_8py_source_l00058}00058\ }
\DoxyCodeLine{\Hypertarget{random__state_8py_source_l00059}00059\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ self.\mbox{\hyperlink{classtoolkit_1_1generator_1_1configurations_1_1random__state_1_1_random_state_ac06da305db6b32b849d7fc32c96f09dc}{get\_random\_element\_uniform}}(distribution)}
\DoxyCodeLine{\Hypertarget{random__state_8py_source_l00060}00060\ \ \ \ \ }

\end{DoxyCode}
