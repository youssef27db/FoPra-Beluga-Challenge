\doxysection{problem\+\_\+filter.\+py}
\hypertarget{problem__filter_8py_source}{}\label{problem__filter_8py_source}\index{rl/utils/problem\_filter.py@{rl/utils/problem\_filter.py}}
\mbox{\hyperlink{problem__filter_8py}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00001}\mbox{\hyperlink{namespacerl_1_1utils_1_1problem__filter}{00001}}\ \textcolor{stringliteral}{"{}"{}"{}!}}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00002}00002\ \textcolor{stringliteral}{@file\ problem\_filter.py}}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00003}00003\ \textcolor{stringliteral}{@brief\ Problem\ filtering\ utilities\ for\ the\ Beluga\ Challenge}}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00004}00004\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00005}00005\ \textcolor{stringliteral}{This\ module\ provides\ functions\ to\ filter\ and\ modify\ problem\ instances}}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00006}00006\ \textcolor{stringliteral}{by\ adjusting\ the\ number\ of\ jigs,\ belugas,\ production\ lines,\ and\ racks}}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00007}00007\ \textcolor{stringliteral}{to\ create\ problems\ of\ different\ complexity\ levels.}}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00008}00008\ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00009}00009\ }
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00010}00010\ \textcolor{keyword}{import}\ json}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00011}00011\ \textcolor{keyword}{import}\ random}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00012}00012\ \textcolor{keyword}{import}\ os}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00013}00013\ \textcolor{keyword}{from}\ pathlib\ \textcolor{keyword}{import}\ Path}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00014}00014\ }
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00015}\mbox{\hyperlink{namespacerl_1_1utils_1_1problem__filter_a95276af8fc881a54b9dbef49fc55515e}{00015}}\ JIG\_TYPES\ =\ \{}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00016}00016\ \ \ \ \ \textcolor{stringliteral}{"{}typeA"{}}:\ \{\textcolor{stringliteral}{"{}name"{}}:\ \textcolor{stringliteral}{"{}typeA"{}},\ \textcolor{stringliteral}{"{}size\_empty"{}}:\ 4,\ \textcolor{stringliteral}{"{}size\_loaded"{}}:\ 4\},}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00017}00017\ \ \ \ \ \textcolor{stringliteral}{"{}typeB"{}}:\ \{\textcolor{stringliteral}{"{}name"{}}:\ \textcolor{stringliteral}{"{}typeB"{}},\ \textcolor{stringliteral}{"{}size\_empty"{}}:\ 8,\ \textcolor{stringliteral}{"{}size\_loaded"{}}:\ 11\},}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00018}00018\ \ \ \ \ \textcolor{stringliteral}{"{}typeC"{}}:\ \{\textcolor{stringliteral}{"{}name"{}}:\ \textcolor{stringliteral}{"{}typeC"{}},\ \textcolor{stringliteral}{"{}size\_empty"{}}:\ 9,\ \textcolor{stringliteral}{"{}size\_loaded"{}}:\ 18\},}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00019}00019\ \ \ \ \ \textcolor{stringliteral}{"{}typeD"{}}:\ \{\textcolor{stringliteral}{"{}name"{}}:\ \textcolor{stringliteral}{"{}typeD"{}},\ \textcolor{stringliteral}{"{}size\_empty"{}}:\ 18,\ \textcolor{stringliteral}{"{}size\_loaded"{}}:\ 25\},}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00020}00020\ \ \ \ \ \textcolor{stringliteral}{"{}typeE"{}}:\ \{\textcolor{stringliteral}{"{}name"{}}:\ \textcolor{stringliteral}{"{}typeE"{}},\ \textcolor{stringliteral}{"{}size\_empty"{}}:\ 32,\ \textcolor{stringliteral}{"{}size\_loaded"{}}:\ 32\}}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00021}00021\ \}}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00022}00022\ }
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00023}\mbox{\hyperlink{namespacerl_1_1utils_1_1problem__filter_a293a32843cda0fc57412353e615a0bbb}{00023}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacerl_1_1utils_1_1problem__filter_a293a32843cda0fc57412353e615a0bbb}{filter\_problem}}(input\_file,\ output\_file,\ max\_jigs,\ max\_belugas,\ max\_prod\_lines,\ max\_racks):}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00024}00024\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}!}}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00025}00025\ \textcolor{stringliteral}{\ \ \ \ @brief\ Filter\ a\ problem\ instance\ to\ reduce\ its\ complexity}}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00026}00026\ \textcolor{stringliteral}{\ \ \ \ }}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00027}00027\ \textcolor{stringliteral}{\ \ \ \ This\ function\ takes\ a\ problem\ JSON\ file\ and\ creates\ a\ simplified\ version}}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00028}00028\ \textcolor{stringliteral}{\ \ \ \ by\ limiting\ the\ number\ of\ jigs,\ belugas,\ production\ lines,\ and\ racks.}}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00029}00029\ \textcolor{stringliteral}{\ \ \ \ }}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00030}00030\ \textcolor{stringliteral}{\ \ \ \ @param\ input\_file\ Path\ to\ the\ input\ problem\ JSON\ file}}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00031}00031\ \textcolor{stringliteral}{\ \ \ \ @param\ output\_file\ Path\ for\ the\ output\ filtered\ problem\ JSON\ file}}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00032}00032\ \textcolor{stringliteral}{\ \ \ \ @param\ max\_jigs\ Maximum\ number\ of\ jigs\ to\ keep}}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00033}00033\ \textcolor{stringliteral}{\ \ \ \ @param\ max\_belugas\ Maximum\ number\ of\ belugas\ to\ keep}}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00034}00034\ \textcolor{stringliteral}{\ \ \ \ @param\ max\_prod\_lines\ Maximum\ number\ of\ production\ lines\ to\ keep}}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00035}00035\ \textcolor{stringliteral}{\ \ \ \ @param\ max\_racks\ Maximum\ number\ of\ racks\ to\ keep}}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00036}00036\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00037}00037\ }
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00038}00038\ \ \ \ \ \textcolor{keyword}{with}\ open(input\_file)\ \textcolor{keyword}{as}\ f:}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00039}00039\ \ \ \ \ \ \ \ \ data\ =\ json.load(f)}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00040}00040\ }
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00041}00041\ \ \ \ \ \textcolor{comment}{\#\ Step\ 1:\ Trim\ jigs}}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00042}00042\ \ \ \ \ all\_jig\_keys\ =\ list(data[\textcolor{stringliteral}{"{}jigs"{}}].keys())}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00043}00043\ \ \ \ \ kept\_jig\_keys\ =\ set(all\_jig\_keys[:max\_jigs])}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00044}00044\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00045}00045\ \ \ \ \ \textcolor{comment}{\#\ Remove\ unnecessary\ jigs}}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00046}00046\ \ \ \ \ data[\textcolor{stringliteral}{"{}jigs"{}}]\ =\ \{k:\ v\ \textcolor{keywordflow}{for}\ k,\ v\ \textcolor{keywordflow}{in}\ data[\textcolor{stringliteral}{"{}jigs"{}}].items()\ \textcolor{keywordflow}{if}\ k\ \textcolor{keywordflow}{in}\ kept\_jig\_keys\}}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00047}00047\ }
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00048}00048\ \ \ \ \ \textcolor{comment}{\#\ Clean\ racks}}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00049}00049\ \ \ \ \ \textcolor{keywordflow}{for}\ rack\ \textcolor{keywordflow}{in}\ data[\textcolor{stringliteral}{"{}racks"{}}]:}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00050}00050\ \ \ \ \ \ \ \ \ rack[\textcolor{stringliteral}{"{}jigs"{}}]\ =\ []}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00051}00051\ }
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00052}00052\ \ \ \ \ \textcolor{comment}{\#\ Clean\ production\ lines}}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00053}00053\ \ \ \ \ \textcolor{keywordflow}{for}\ pl\ \textcolor{keywordflow}{in}\ data[\textcolor{stringliteral}{"{}production\_lines"{}}]:}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00054}00054\ \ \ \ \ \ \ \ \ pl[\textcolor{stringliteral}{"{}schedule"{}}]\ =\ []}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00055}00055\ }
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00056}00056\ \ \ \ \ \textcolor{comment}{\#\ Clean\ flights}}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00057}00057\ \ \ \ \ \textcolor{keywordflow}{for}\ flight\ \textcolor{keywordflow}{in}\ data[\textcolor{stringliteral}{"{}flights"{}}]:}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00058}00058\ \ \ \ \ \ \ \ \ flight[\textcolor{stringliteral}{"{}incoming"{}}]\ =\ []}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00059}00059\ \ \ \ \ \ \ \ \ flight[\textcolor{stringliteral}{"{}outgoing"{}}]\ =\ []}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00060}00060\ }
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00061}00061\ \ \ \ \ \textcolor{comment}{\#\ Schritt\ 2:\ Belugas,\ Racks\ und\ Produktionslinien\ trimmen}}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00062}00062\ \ \ \ \ data[\textcolor{stringliteral}{"{}flights"{}}]\ =\ data[\textcolor{stringliteral}{"{}flights"{}}][:max\_belugas]}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00063}00063\ \ \ \ \ data[\textcolor{stringliteral}{"{}racks"{}}]\ =\ data[\textcolor{stringliteral}{"{}racks"{}}][:max\_racks]}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00064}00064\ \ \ \ \ data[\textcolor{stringliteral}{"{}production\_lines"{}}]\ =\ data[\textcolor{stringliteral}{"{}production\_lines"{}}][:max\_prod\_lines]}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00065}00065\ }
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00066}00066\ \ \ \ \ \textcolor{comment}{\#\ Schritt\ 3:\ Wir\ nehmen\ ein\ sample\ von\ Jigs\ und\ packen\ es\ in\ die\ Produktionslinien}}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00067}00067\ \ \ \ \ non\_empty\_jigs\ =\ [k\ \textcolor{keywordflow}{for}\ k,\ v\ \textcolor{keywordflow}{in}\ data[\textcolor{stringliteral}{"{}jigs"{}}].items()\ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ v.get(\textcolor{stringliteral}{"{}empty"{}},\ \textcolor{keyword}{False})]}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00068}00068\ \ \ \ \ random.shuffle(non\_empty\_jigs)}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00069}00069\ }
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00070}00070\ \ \ \ \ used\_jigs\ =\ set()}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00071}00071\ \ \ \ \ \textcolor{keywordflow}{for}\ pl\ \textcolor{keywordflow}{in}\ data[\textcolor{stringliteral}{"{}production\_lines"{}}]:}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00072}00072\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ non\_empty\_jigs:}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00073}00073\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break}}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00074}00074\ }
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00075}00075\ \ \ \ \ \ \ \ \ max\_count\ =\ min(15,\ len(non\_empty\_jigs))\ \ \textcolor{comment}{\#\ max\ 15\ Jigs\ pro\ Linie\ oder\ weniger,\ je\ nach\ Verfügbarkeit}}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00076}00076\ \ \ \ \ \ \ \ \ count\ =\ random.randint(1,\ max\_count)\ \ \ \ \ \textcolor{comment}{\#\ zufällige\ Anzahl\ Jigs\ (1\ bis\ max\_count)}}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00077}00077\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00078}00078\ \ \ \ \ \ \ \ \ selected\ =\ non\_empty\_jigs[:count]}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00079}00079\ \ \ \ \ \ \ \ \ pl[\textcolor{stringliteral}{"{}schedule"{}}]\ =\ selected}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00080}00080\ }
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00081}00081\ \ \ \ \ \ \ \ \ used\_jigs.update(selected)}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00082}00082\ \ \ \ \ \ \ \ \ non\_empty\_jigs\ =\ non\_empty\_jigs[count:]}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00083}00083\ }
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00084}00084\ \ \ \ \ \textcolor{comment}{\#\ Schritt\ 4:\ Verteile\ die\ verwendeten\ Jigs\ aus\ den\ Produktionslinien}}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00085}00085\ \ \ \ \ used\_jigs\ =\ set(jig\ \textcolor{keywordflow}{for}\ pl\ \textcolor{keywordflow}{in}\ data[\textcolor{stringliteral}{"{}production\_lines"{}}]\ \textcolor{keywordflow}{for}\ jig\ \textcolor{keywordflow}{in}\ pl[\textcolor{stringliteral}{"{}schedule"{}}])}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00086}00086\ }
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00087}00087\ \ \ \ \ \textcolor{comment}{\#\ Liste\ der\ verwendbaren\ Jigs\ mit\ Größenangabe}}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00088}00088\ \ \ \ \ jig\_objects\ =\ []}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00089}00089\ \ \ \ \ \textcolor{keywordflow}{for}\ jig\_id\ \textcolor{keywordflow}{in}\ used\_jigs:}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00090}00090\ \ \ \ \ \ \ \ \ jig\ =\ data[\textcolor{stringliteral}{"{}jigs"{}}][jig\_id]}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00091}00091\ \ \ \ \ \ \ \ \ jig\_type\ =\ jig[\textcolor{stringliteral}{"{}type"{}}]}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00092}00092\ \ \ \ \ \ \ \ \ type\_info\ =\ data[\textcolor{stringliteral}{"{}jig\_types"{}}][jig\_type]}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00093}00093\ \ \ \ \ \ \ \ \ size\_loaded\ =\ type\_info[\textcolor{stringliteral}{"{}size\_loaded"{}}]}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00094}00094\ \ \ \ \ \ \ \ \ jig\_objects.append((jig\_id,\ size\_loaded))}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00095}00095\ }
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00096}00096\ \ \ \ \ \textcolor{comment}{\#\ Zuerst\ ein\ paar\ wenige\ Jigs\ für\ Racks\ auswählen}}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00097}00097\ \ \ \ \ rack\_fraction\ =\ max(1,\ int(0.1\ *\ len(jig\_objects)))\ \ \textcolor{comment}{\#\ 10\%\ für\ jigs\ in\ Racks}}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00098}00098\ \ \ \ \ random.shuffle(jig\_objects)}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00099}00099\ }
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00100}00100\ \ \ \ \ rack\_jigs\ =\ []}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00101}00101\ \ \ \ \ beluga\_jigs\ =\ []}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00102}00102\ }
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00103}00103\ \ \ \ \ \textcolor{comment}{\#\ Kopie\ der\ racks\ zum\ Füllen\ (mit\ current\_size\ zum\ Tracken)}}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00104}00104\ \ \ \ \ racks\_state\ =\ []}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00105}00105\ \ \ \ \ \textcolor{keywordflow}{for}\ rack\ \textcolor{keywordflow}{in}\ data[\textcolor{stringliteral}{"{}racks"{}}]:}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00106}00106\ \ \ \ \ \ \ \ \ racks\_state.append(\{}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00107}00107\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}rack"{}}:\ rack,}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00108}00108\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}remaining\_size"{}}:\ rack[\textcolor{stringliteral}{"{}size"{}}],}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00109}00109\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}jigs"{}}:\ []}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00110}00110\ \ \ \ \ \ \ \ \ \})}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00111}00111\ }
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00112}00112\ \ \ \ \ \textcolor{comment}{\#\ 1.\ Packe\ ein\ paar\ wenige\ Jigs\ in\ passende\ Racks}}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00113}00113\ \ \ \ \ \textcolor{keywordflow}{for}\ jig\_id,\ jig\_size\ \textcolor{keywordflow}{in}\ jig\_objects:}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00114}00114\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ len(rack\_jigs)\ >=\ rack\_fraction:}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00115}00115\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break}}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00116}00116\ }
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00117}00117\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Suche\ einen\ Rack\ mit\ genug\ Platz}}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00118}00118\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ rack\_info\ \textcolor{keywordflow}{in}\ racks\_state:}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00119}00119\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ jig\_size\ <=\ rack\_info[\textcolor{stringliteral}{"{}remaining\_size"{}}]:}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00120}00120\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ rack\_info[\textcolor{stringliteral}{"{}jigs"{}}].append(jig\_id)}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00121}00121\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ rack\_info[\textcolor{stringliteral}{"{}remaining\_size"{}}]\ -\/=\ jig\_size}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00122}00122\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ rack\_jigs.append(jig\_id)}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00123}00123\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break}}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00124}00124\ }
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00125}00125\ \ \ \ \ \textcolor{comment}{\#\ Update\ racks\ mit\ den\ zugewiesenen\ Jigs}}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00126}00126\ \ \ \ \ \textcolor{keywordflow}{for}\ rack\_info\ \textcolor{keywordflow}{in}\ racks\_state:}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00127}00127\ \ \ \ \ \ \ \ \ rack\_info[\textcolor{stringliteral}{"{}rack"{}}][\textcolor{stringliteral}{"{}jigs"{}}]\ =\ rack\_info[\textcolor{stringliteral}{"{}jigs"{}}]}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00128}00128\ }
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00129}00129\ \ \ \ \ \textcolor{comment}{\#\ 2.\ Der\ Rest\ kommt\ in\ die\ Belugas\ (gleichmäßig\ verteilen)}}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00130}00130\ \ \ \ \ beluga\_jigs\ =\ [jig\ \textcolor{keywordflow}{for}\ jig\ \textcolor{keywordflow}{in}\ used\_jigs\ \textcolor{keywordflow}{if}\ jig\ \textcolor{keywordflow}{not}\ \textcolor{keywordflow}{in}\ rack\_jigs]}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00131}00131\ \ \ \ \ num\_belugas\ =\ len(data[\textcolor{stringliteral}{"{}flights"{}}])}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00132}00132\ \ \ \ \ \textcolor{keywordflow}{for}\ i,\ jig\ \textcolor{keywordflow}{in}\ enumerate(beluga\_jigs):}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00133}00133\ \ \ \ \ \ \ \ \ beluga\ =\ data[\textcolor{stringliteral}{"{}flights"{}}][i\ \%\ num\_belugas]}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00134}00134\ \ \ \ \ \ \ \ \ beluga[\textcolor{stringliteral}{"{}incoming"{}}].append(jig)}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00135}00135\ }
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00136}00136\ \ \ \ \ \textcolor{comment}{\#\ Schritt\ 5:\ Paar\ random\ jigs\ in\ racks\ und\ belugas\ verteilen\ (Jigs\ die\ aber\ davor\ nicht\ benutzt\ worden\ sind)}}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00137}00137\ \ \ \ \ \textcolor{comment}{\#\ Alle\ Jig-\/IDs,\ die\ bisher\ noch\ NICHT\ verwendet\ wurden}}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00138}00138\ \ \ \ \ all\_jig\_ids\ =\ set(data[\textcolor{stringliteral}{"{}jigs"{}}].keys())}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00139}00139\ \ \ \ \ unused\_jigs\ =\ list(all\_jig\_ids\ -\/\ used\_jigs)}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00140}00140\ \ \ \ \ random.shuffle(unused\_jigs)}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00141}00141\ }
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00142}00142\ \ \ \ \ \textcolor{comment}{\#\ Wie\ viele\ zusätzliche\ Jigs\ wollen\ wir\ zufällig\ verteilen?}}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00143}00143\ \ \ \ \ random\_int\ =\ random.randint(3,\ 10)\ \textcolor{comment}{\#\ (3,\ 10)\ für\ kleine\ Probleme,\ mehr\ für\ größere}}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00144}00144\ \ \ \ \ extra\_count\ =\ min(random\_int,\ len(unused\_jigs))\ }
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00145}00145\ \ \ \ \ extra\_jigs\ =\ unused\_jigs[:extra\_count]}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00146}00146\ }
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00147}00147\ \ \ \ \ \textcolor{comment}{\#\ Racks\ vorbereiten\ mit\ verbleibender\ Größe}}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00148}00148\ \ \ \ \ racks\_state\ =\ []}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00149}00149\ \ \ \ \ \textcolor{keywordflow}{for}\ rack\ \textcolor{keywordflow}{in}\ data[\textcolor{stringliteral}{"{}racks"{}}]:}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00150}00150\ \ \ \ \ \ \ \ \ current\_jigs\ =\ rack.get(\textcolor{stringliteral}{"{}jigs"{}},\ [])}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00151}00151\ \ \ \ \ \ \ \ \ remaining\ =\ rack[\textcolor{stringliteral}{"{}size"{}}]}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00152}00152\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ jig\_id\ \textcolor{keywordflow}{in}\ current\_jigs:}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00153}00153\ \ \ \ \ \ \ \ \ \ \ \ \ jig\_type\ =\ data[\textcolor{stringliteral}{"{}jigs"{}}][jig\_id][\textcolor{stringliteral}{"{}type"{}}]}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00154}00154\ \ \ \ \ \ \ \ \ \ \ \ \ is\_empty\ =\ data[\textcolor{stringliteral}{"{}jigs"{}}][jig\_id].get(\textcolor{stringliteral}{"{}empty"{}},\ \textcolor{keyword}{False})}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00155}00155\ \ \ \ \ \ \ \ \ \ \ \ \ size\ =\ data[\textcolor{stringliteral}{"{}jig\_types"{}}][jig\_type][\textcolor{stringliteral}{"{}size\_empty"{}}\ \textcolor{keywordflow}{if}\ is\_empty\ \textcolor{keywordflow}{else}\ \textcolor{stringliteral}{"{}size\_loaded"{}}]}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00156}00156\ \ \ \ \ \ \ \ \ \ \ \ \ remaining\ -\/=\ size}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00157}00157\ \ \ \ \ \ \ \ \ racks\_state.append(\{}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00158}00158\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}rack"{}}:\ rack,}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00159}00159\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}remaining\_size"{}}:\ remaining,}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00160}00160\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}jigs"{}}:\ current\_jigs}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00161}00161\ \ \ \ \ \ \ \ \ \})}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00162}00162\ }
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00163}00163\ \ \ \ \ \textcolor{comment}{\#\ Jetzt\ verteilen\ wir\ die\ zusätzlichen\ Jigs}}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00164}00164\ \ \ \ \ \textcolor{keywordflow}{for}\ jig\_id\ \textcolor{keywordflow}{in}\ extra\_jigs:}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00165}00165\ \ \ \ \ \ \ \ \ jig\ =\ data[\textcolor{stringliteral}{"{}jigs"{}}][jig\_id]}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00166}00166\ \ \ \ \ \ \ \ \ jig\_type\ =\ jig[\textcolor{stringliteral}{"{}type"{}}]}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00167}00167\ \ \ \ \ \ \ \ \ is\_empty\ =\ jig.get(\textcolor{stringliteral}{"{}empty"{}},\ \textcolor{keyword}{False})}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00168}00168\ \ \ \ \ \ \ \ \ size\ =\ data[\textcolor{stringliteral}{"{}jig\_types"{}}][jig\_type][\textcolor{stringliteral}{"{}size\_empty"{}}\ \textcolor{keywordflow}{if}\ is\_empty\ \textcolor{keywordflow}{else}\ \textcolor{stringliteral}{"{}size\_loaded"{}}]}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00169}00169\ }
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00170}00170\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Zufällig\ entscheiden:\ Rack\ oder\ Beluga}}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00171}00171\ \ \ \ \ \ \ \ \ target\ =\ random.choice([\textcolor{stringliteral}{"{}rack"{}},\ \textcolor{stringliteral}{"{}beluga"{}}])}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00172}00172\ }
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00173}00173\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ target\ ==\ \textcolor{stringliteral}{"{}rack"{}}:}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00174}00174\ \ \ \ \ \ \ \ \ \ \ \ \ random.shuffle(racks\_state)}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00175}00175\ \ \ \ \ \ \ \ \ \ \ \ \ placed\ =\ \textcolor{keyword}{False}}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00176}00176\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ rack\_info\ \textcolor{keywordflow}{in}\ racks\_state:}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00177}00177\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ size\ <=\ rack\_info[\textcolor{stringliteral}{"{}remaining\_size"{}}]:}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00178}00178\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ rack\_info[\textcolor{stringliteral}{"{}rack"{}}][\textcolor{stringliteral}{"{}jigs"{}}].append(jig\_id)}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00179}00179\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ rack\_info[\textcolor{stringliteral}{"{}remaining\_size"{}}]\ -\/=\ size}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00180}00180\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ placed\ =\ \textcolor{keyword}{True}}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00181}00181\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break}}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00182}00182\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ placed:}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00183}00183\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Kein\ Rack\ mit\ Platz\ gefunden\ →\ auf\ Beluga\ ausweichen}}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00184}00184\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ target\ =\ \textcolor{stringliteral}{"{}beluga"{}}}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00185}00185\ }
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00186}00186\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ target\ ==\ \textcolor{stringliteral}{"{}beluga"{}}\ \textcolor{keywordflow}{and}\ \textcolor{keywordflow}{not}\ is\_empty:}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00187}00187\ \ \ \ \ \ \ \ \ \ \ \ \ beluga\ =\ random.choice(data[\textcolor{stringliteral}{"{}flights"{}}])}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00188}00188\ \ \ \ \ \ \ \ \ \ \ \ \ beluga[\textcolor{stringliteral}{"{}incoming"{}}].append(jig\_id)}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00189}00189\ }
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00190}00190\ \ \ \ \ \textcolor{comment}{\#\ Schritt\ 6:\ Von\ den\ ganzen\ Jigs\ nemmen\ wir\ ein\ random\ sample\ von\ Jig\_Typen\ und\ verteile\ es\ auf\ die\ Outgoing\ der\ Belugas}}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00191}00191\ }
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00192}00192\ \ \ \ \ \textcolor{comment}{\#\ Alle\ benutzten\ Jigs:\ Belugas\ und\ Racks}}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00193}00193\ \ \ \ \ all\_used\_jigs\ =\ set()}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00194}00194\ }
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00195}00195\ \ \ \ \ \textcolor{keywordflow}{for}\ rack\ \textcolor{keywordflow}{in}\ data[\textcolor{stringliteral}{"{}racks"{}}]:}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00196}00196\ \ \ \ \ \ \ \ \ all\_used\_jigs.update(rack.get(\textcolor{stringliteral}{"{}jigs"{}},\ []))}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00197}00197\ \ \ \ \ \textcolor{keywordflow}{for}\ beluga\ \textcolor{keywordflow}{in}\ data[\textcolor{stringliteral}{"{}flights"{}}]:}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00198}00198\ \ \ \ \ \ \ \ \ all\_used\_jigs.update(beluga.get(\textcolor{stringliteral}{"{}incoming"{}},\ []))}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00199}00199\ }
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00200}00200\ \ \ \ \ \textcolor{comment}{\#\ Alle\ Jig-\/Typen\ extrahieren}}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00201}00201\ \ \ \ \ jig\_types\_used\ =\ [data[\textcolor{stringliteral}{"{}jigs"{}}][jig\_id][\textcolor{stringliteral}{"{}type"{}}]\ \textcolor{keywordflow}{for}\ jig\_id\ \textcolor{keywordflow}{in}\ all\_used\_jigs]}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00202}00202\ }
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00203}00203\ \ \ \ \ random.shuffle(jig\_types\_used)}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00204}00204\ \ \ \ \ max\_types\ =\ min(8,\ len(jig\_types\_used))\ \textcolor{comment}{\#\ 8\ bei\ kleinen\ Problemen,\ sonst\ mehr\ je\ schweriger\ das\ Problem}}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00205}00205\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00206}00206\ \ \ \ \ \textcolor{keywordflow}{if}\ max\_types\ >=\ 1:}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00207}00207\ \ \ \ \ \ \ \ \ count\_to\_use\ =\ random.randint(0,\ max\_types)}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00208}00208\ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00209}00209\ \ \ \ \ \ \ \ \ count\_to\_use\ =\ 0}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00210}00210\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00211}00211\ \ \ \ \ types\_to\_distribute\ =\ jig\_types\_used[:count\_to\_use]}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00212}00212\ }
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00213}00213\ \ \ \ \ \textcolor{comment}{\#\ Verteile\ die\ Typen\ zufällig\ auf\ die\ Belugas}}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00214}00214\ \ \ \ \ \textcolor{keywordflow}{for}\ jig\_type\ \textcolor{keywordflow}{in}\ types\_to\_distribute:}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00215}00215\ \ \ \ \ \ \ \ \ beluga\ =\ random.choice(data[\textcolor{stringliteral}{"{}flights"{}}])}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00216}00216\ \ \ \ \ \ \ \ \ beluga[\textcolor{stringliteral}{"{}outgoing"{}}].append(jig\_type)}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00217}00217\ }
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00218}00218\ \ \ \ \ \textcolor{comment}{\#\ Schritt\ 7:\ Entferne\ belugas\ und\ produktionslinien,\ die\ leer\ sind}}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00219}00219\ \ \ \ \ \textcolor{comment}{\#\ Production\ lines\ filtern:\ nur\ behalten,\ wenn\ schedule\ nicht\ leer\ ist}}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00220}00220\ \ \ \ \ data[\textcolor{stringliteral}{"{}production\_lines"{}}]\ =\ [}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00221}00221\ \ \ \ \ \ \ \ \ pl\ \textcolor{keywordflow}{for}\ pl\ \textcolor{keywordflow}{in}\ data[\textcolor{stringliteral}{"{}production\_lines"{}}]\ \textcolor{keywordflow}{if}\ pl.get(\textcolor{stringliteral}{"{}schedule"{}})}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00222}00222\ \ \ \ \ ]}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00223}00223\ }
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00224}00224\ \ \ \ \ \textcolor{comment}{\#\ Belugas\ filtern:\ nur\ behalten,\ wenn\ incoming\ oder\ outgoing\ nicht\ leer\ sind}}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00225}00225\ \ \ \ \ data[\textcolor{stringliteral}{"{}flights"{}}]\ =\ [}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00226}00226\ \ \ \ \ \ \ \ \ fl\ \textcolor{keywordflow}{for}\ fl\ \textcolor{keywordflow}{in}\ data[\textcolor{stringliteral}{"{}flights"{}}]}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00227}00227\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ fl.get(\textcolor{stringliteral}{"{}incoming"{}})\ \textcolor{keywordflow}{or}\ fl.get(\textcolor{stringliteral}{"{}outgoing"{}})}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00228}00228\ \ \ \ \ ]}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00229}00229\ }
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00230}00230\ \ \ \ \ \textcolor{comment}{\#\ Speichern}}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00231}00231\ \ \ \ \ Path(output\_file).parent.mkdir(parents=\textcolor{keyword}{True},\ exist\_ok=\textcolor{keyword}{True})}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00232}00232\ \ \ \ \ \textcolor{keyword}{with}\ open(output\_file,\ \textcolor{stringliteral}{"{}w"{}})\ \textcolor{keyword}{as}\ f:}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00233}00233\ \ \ \ \ \ \ \ \ json.dump(data,\ f,\ indent=2)}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00234}00234\ }
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00235}\mbox{\hyperlink{namespacerl_1_1utils_1_1problem__filter_a8168d79ef8921b7e8232c95fed44fde8}{00235}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacerl_1_1utils_1_1problem__filter_a8168d79ef8921b7e8232c95fed44fde8}{generate\_problems}}(}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00236}00236\ \ \ \ \ num\_problems=20,}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00237}00237\ \ \ \ \ input\_folder="{}problems"{},}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00238}00238\ \ \ \ \ output\_folder="{}problemset1"{},}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00239}00239\ \ \ \ \ jig\_range=(5,\ 30),}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00240}00240\ \ \ \ \ beluga\_range=(2,\ 8),}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00241}00241\ \ \ \ \ prod\_line\_range=(2,\ 6),}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00242}00242\ \ \ \ \ rack\_range=(2,\ 10)}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00243}00243\ ):}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00244}00244\ \ \ \ \ os.makedirs(output\_folder,\ exist\_ok=\textcolor{keyword}{True})}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00245}00245\ \ \ \ \ problem\_files\ =\ [f\ \textcolor{keywordflow}{for}\ f\ \textcolor{keywordflow}{in}\ os.listdir(input\_folder)\ \textcolor{keywordflow}{if}\ f.endswith(\textcolor{stringliteral}{"{}.json"{}})]}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00246}00246\ }
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00247}00247\ \ \ \ \ \textcolor{keywordflow}{for}\ i\ \textcolor{keywordflow}{in}\ range(1,\ num\_problems\ +\ 1):}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00248}00248\ \ \ \ \ \ \ \ \ random\_input\_file\ =\ random.choice(problem\_files)}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00249}00249\ \ \ \ \ \ \ \ \ input\_path\ =\ os.path.join(input\_folder,\ random\_input\_file)}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00250}00250\ }
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00251}00251\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Zufällige\ Werte\ generieren\ und\ zwischenspeichern}}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00252}00252\ \ \ \ \ \ \ \ \ max\_jigs\_val\ =\ random.randint(*jig\_range)}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00253}00253\ \ \ \ \ \ \ \ \ max\_belugas\_val\ =\ random.randint(*beluga\_range)}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00254}00254\ \ \ \ \ \ \ \ \ max\_prod\_lines\_val\ =\ random.randint(*prod\_line\_range)}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00255}00255\ \ \ \ \ \ \ \ \ max\_racks\_val\ =\ random.randint(*rack\_range)}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00256}00256\ }
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00257}00257\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Temporärer\ Dateiname}}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00258}00258\ \ \ \ \ \ \ \ \ temp\_filename\ =\ f\textcolor{stringliteral}{"{}problem\{i\}\_tmp.json"{}}}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00259}00259\ \ \ \ \ \ \ \ \ temp\_path\ =\ os.path.join(output\_folder,\ temp\_filename)}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00260}00260\ }
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00261}00261\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacerl_1_1utils_1_1problem__filter_a293a32843cda0fc57412353e615a0bbb}{filter\_problem}}(}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00262}00262\ \ \ \ \ \ \ \ \ \ \ \ \ input\_file=input\_path,}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00263}00263\ \ \ \ \ \ \ \ \ \ \ \ \ output\_file=temp\_path,}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00264}00264\ \ \ \ \ \ \ \ \ \ \ \ \ max\_jigs=max\_jigs\_val,}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00265}00265\ \ \ \ \ \ \ \ \ \ \ \ \ max\_belugas=max\_belugas\_val,}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00266}00266\ \ \ \ \ \ \ \ \ \ \ \ \ max\_prod\_lines=max\_prod\_lines\_val,}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00267}00267\ \ \ \ \ \ \ \ \ \ \ \ \ max\_racks=max\_racks\_val}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00268}00268\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00269}00269\ }
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00270}00270\ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ JSON\ wieder\ einlesen}}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00271}00271\ \ \ \ \ \ \ \ \ \textcolor{keyword}{with}\ open(temp\_path)\ \textcolor{keyword}{as}\ f:}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00272}00272\ \ \ \ \ \ \ \ \ \ \ \ \ data\ =\ json.load(f)}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00273}00273\ }
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00274}00274\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Infos\ extrahieren}}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00275}00275\ \ \ \ \ \ \ \ \ num\_jigs\ =\ len(data.get(\textcolor{stringliteral}{"{}jigs"{}},\ []))}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00276}00276\ \ \ \ \ \ \ \ \ num\_racks\ =\ len(data.get(\textcolor{stringliteral}{"{}racks"{}},\ []))}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00277}00277\ \ \ \ \ \ \ \ \ num\_belugas\ =\ len(data.get(\textcolor{stringliteral}{"{}flights"{}},\ []))}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00278}00278\ \ \ \ \ \ \ \ \ num\_prod\_lines\ =\ len(data.get(\textcolor{stringliteral}{"{}production\_lines"{}},\ []))}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00279}00279\ }
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00280}00280\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Neuer\ Dateiname}}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00281}00281\ \ \ \ \ \ \ \ \ new\_filename\ =\ f\textcolor{stringliteral}{"{}problem\{i\}\_j\{num\_jigs\}\_r\{num\_racks\}\_b\{num\_belugas\}\_pl\{num\_prod\_lines\}.json"{}}}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00282}00282\ \ \ \ \ \ \ \ \ new\_path\ =\ os.path.join(output\_folder,\ new\_filename)}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00283}00283\ }
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00284}00284\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Datei\ umbenennen}}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00285}00285\ \ \ \ \ \ \ \ \ os.rename(temp\_path,\ new\_path)}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00286}00286\ }
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00287}00287\ \textcolor{keywordflow}{if}\ \_\_name\_\_\ ==\ \textcolor{stringliteral}{"{}\_\_main\_\_"{}}:}
\DoxyCodeLine{\Hypertarget{problem__filter_8py_source_l00288}00288\ \ \ \ \ \mbox{\hyperlink{namespacerl_1_1utils_1_1problem__filter_a8168d79ef8921b7e8232c95fed44fde8}{generate\_problems}}()}

\end{DoxyCode}
